
[[_uploadpolicyusingget]]
==== 获取直传OSS的policy
....
GET /upload/policy
....


===== 说明
获取直传OSS的policy


===== 参数

[options="header", cols=".^2a,.^3a,.^9a,.^4a,.^2a"]
|===
|类型|名称|说明|类型|默认值
|*Header*|*Authorization* +
_必填_|authorization header|string|`"bearer dc671840-bacc-4dc5-a134-97c1918d664b"`
|*Query*|*name* +
_必填_|文件的全名，使用URL编码（UTF-8），最多256个字符|string|
|*Query*|*sourceId* +
_可选_|调用方的文件源ID，不能重复|string|
|===


===== 响应

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP代码|说明|类型
|*200*|OK|<<_4b94a0479b1d97c7e8f08aa941c8f634,GeneralResponse«UploadPolicyBean»>>
|*401*|Unauthorized|无内容
|*403*|Forbidden|无内容
|*404*|Not Found|无内容
|===


===== HTTP请求示例

====== 请求 path
----
/upload/policy?name=string
----


====== 请求 header
[source,json]
----
"string"
----


===== HTTP响应示例

====== 响应 200
[source,json]
----
{
    "code": "success",
    "message": null,
    "data": [{
        "host": "",
        "policy": "",
        "accessId": "",
        "signature": "",
        "expire: 1111,
        "callbackBody": "",
        "objectKey": ""
}
----
include::detail/uploadFile_policy_datadec.adoc[]
include::detail/fail.adoc[]
===== 错误码
[options="header"]
|===
|code|说明
|system.error |BIMFACE系统异常
|authentication.failed |API访问合法性校验失败
|file.name.invalid	|文件名称不合法
|file.type.not.support	|文件类型不支持
|===